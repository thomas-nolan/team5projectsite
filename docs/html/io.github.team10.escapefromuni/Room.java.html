<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Room.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">core</a> &gt; <a href="index.source.html" class="el_package">io.github.team10.escapefromuni</a> &gt; <span class="el_source">Room.java</span></div><h1>Room.java</h1><pre class="source lang-java linenums">package io.github.team10.escapefromuni;

import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.utils.ObjectMap;

/**
 * Represents a single Room.
 *
 * A room can be connected to up to 4 adjacent rooms, and may contain an event.
 */
public class Room {

<span class="fc" id="L13">    private final ObjectMap&lt;DoorDirection, Boolean&gt; lockedDoors = new ObjectMap&lt;&gt;();</span>
    private IEvent event;
<span class="fc" id="L15">    private final Room[] adjacentRooms = new Room[4];</span>
    private final Texture roomTexture;
    private final boolean isExit;

    /**
     * Initialises a new room.
     * @param roomTexture The texture for this room.
     * @param isExit boolean representing whether reaching this room means the player wins.
     */
    public Room(Texture roomTexture, boolean isExit)
<span class="fc" id="L25">    {</span>
<span class="fc" id="L26">        this.roomTexture = roomTexture;</span>
<span class="fc" id="L27">        this.isExit = isExit;</span>
<span class="fc" id="L28">    }</span>

    /**
     * Initialises a new room, with isExit set to false (the case for most rooms).
     * @param texture The texture for this room.
     */
    public Room(Texture texture)
    {
<span class="fc" id="L36">        this(texture, false);</span>
<span class="fc" id="L37">    }</span>

    public Texture getRoomTexture()
    {
<span class="nc" id="L41">        return roomTexture;</span>
    }

    public boolean isExit(){
<span class="nc" id="L45">        return isExit;</span>
    }

    public void setLocked(DoorDirection dir, boolean locked){
<span class="nc" id="L49">        lockedDoors.put(dir,locked);</span>
<span class="nc" id="L50">    }</span>

    public boolean isLocked(DoorDirection dir) {
<span class="nc" id="L53">        return lockedDoors.get(dir, false);</span>

    }

    /**
     * Adds a connection to an adjacent room, given a direction.
     * @param adjacentRoom The adjacent room to connect to.
     * @param direction Direction of the new room in relation to this room.
     */
    public void addAdjacent(Room adjacentRoom, DoorDirection direction)
    {
<span class="nc" id="L64">       adjacentRooms[direction.ordinal()] = adjacentRoom;</span>
<span class="nc" id="L65">    }</span>


    public void removeAdjacent(Room room, DoorDirection direction){
<span class="nc bnc" id="L69" title="All 2 branches missed.">        if (adjacentRooms[direction.ordinal()] == room){</span>
<span class="nc" id="L70">            adjacentRooms[direction.ordinal()] = null;</span>
        }
<span class="nc" id="L72">    }</span>



    /**
     * Return a specific adjacent room based on a direction.
     *
     * @param direction Direction of the adjacent room to return.
     * @return Room representing adjacentRoom if it exists, null otherwise.
     */
    public Room getAdjacent(DoorDirection direction)
    {
<span class="nc" id="L84">        return adjacentRooms[direction.ordinal()];</span>

    }

    /**
     * Returns the array storing adjacent rooms.
     *
     * If a room doesn't exist in that direction null is stored instead.
     * @return Array of size 4, with order {NORTH, EAST, SOUTH, WEST}.
     */
    public Room[] getAllAdjacent()
    {
<span class="nc" id="L96">        return adjacentRooms;</span>
    }

    public void setEvent(IEvent event)
    {
<span class="fc" id="L101">        this.event = event;</span>
<span class="fc" id="L102">    }</span>

    public IEvent getEvent()
    {
<span class="fc" id="L106">        return event;</span>
    }

    /**
     * Gets event type for a room
     * @return - Returns the correct event type, or null if there is no event for the given room
     */
    public EventType getEventType() {
<span class="nc bnc" id="L114" title="All 2 branches missed.">        if (event != null)</span>
        {
<span class="nc" id="L116">            return event.getType();</span>
        }
<span class="nc" id="L118">        return EventType.NONE;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>